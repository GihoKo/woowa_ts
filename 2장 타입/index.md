# 2장 타입

-   타입스크립트는 정적 타이핑을 제공함
-   타입스크립트가 제공하는 타입과 관련된 내용을 살펴본다

## 2.1 타입이란

1. 자료형으로서의 타입
    - 메모리의 관점에서 데이터 타입은 프로그래밍 언어에서 일반적으로 타입으로 부르는 개념과 같음
    - 컴퓨터의 메모리 공간은 한정적
        - 특정 메모리에 값을 효율적으로 저장하기 위해서 먼저 해당 메모리 공간을 차지할 값의 크기를 알아야한다
    - 개발자는 타입을 사용해서 값의 종류를 명시할 수 있고, 메모리를 더욱 효율적으로 사용 가능
2. 집합으로서의 타입
    - 타입은 값이 가질 수 있는 유효한 범위의 집합을 의미
    - 타입 시스템은 유요한 값의 범위를 제한해서 런타임에서 발생할 수 있는 유효하지 않은 값에 대한 에러를 방지해줌
3. 정적 타입과 동적 타입
    - 정적 타입
        - 컴파일타임에 모든 변수의 타입이 결정
        - 개발자가 타입을 명시
    - 동적 타입
        - 변수 타입이 런타임에 결정
    - 컴파일 타임과 런타임
        - 컴파일 타임
            - 기계가 소스코드를 이해할 수 있도록 기계어로 변환되는 시점
        - 런타임
            - 변환된 파일이 메모리에 적재돼 실행되는 시점
4. 강타입과 약타입
    - 강타입(strongly type)
        - 서로 다른 타입을 갖는 값끼리 연산 시도시 컴파일, 인터프리터에서 에러 발생
    - 약타입(weakly type)
        - 컴파일러, 인터프리터가 내부적으로 판단해 특정 값의 타입을 변환(암묵적 타입 변환)
    - 타입 시스템
        - TS는 명시적으로 타입 지정, 컴퓨터가 추론 둘 다 가능
5. 컴파일 방식
    - 컴파일
        - 고수준 언어에서 저수준 언어로
        - TS를 컴파일하면 타입이 모두 제거된 JS 소스 코드만 남는다

## 2.2 타입스크립트의 타입 시스템

1. 타입 에너테이션(type annotation) 방식
    - 변수나 상수, 함수의 인자와 반환 값에 타입을 명시적으로 선언
2. 구조적 타이핑
    - 이름으로 타입을 구분하는 명목적인 타입과 달리 타입스크립트는 **구조**로 타입을 구분한다.
3. 구조적 서브 타이핑
    - 객체가 가지고 있는 속성(프로퍼티)를 바탕으로 타입을 구분하는 것이다.
    - 이름이 다른 객체라도 가진 속성이 동일하면 타입스크립트는 서로 호환이 가능한 동일한 타입으로 여김
    
    ```jsx
    interface Pet {
        name: string;
    }
    
    interface Cat {
        name: string;
        age: number;
    }
    
    let pet: Pet;
    let cat: Cat = { name: "Tom", age: 7 };
    
    pet = cat; // OK
    
    ```
    
    - 함수의 매개 변수와 타입의 상속 역시 구조적 타이핑을 기반으로 하고 있다.
    - 서로 다른 두 타입 간의 호환성은 오로지 타입 내부의 구조에 의해 결정된다.
    - 타입 A가 타입B의 서브타입이라면 A 타입의 인스턴스는 B 타입이 필요한 곳에 언제든지 위치할 수 있다.
4. 자바스크립트를 닮은 타입스크립트
    - 덕 타이핑
        - 자바스크립트
        - 객체가 필요한 메서드나 속성을 가지고 있을 때 사용이 가능하다고 여기는 것
            - duck 안에 quack 이라는 메서드가 있으면  `duck.quack()` 을 사용 가능하다
        - 런타임에 타입 검사
    - 구조적 타이핑
        - 타입스크립트
        - 객체의 구조가 타입과 일치하면 그 객체를 해당 타입으로 간주함
            - Duck이라는 interface안에 quack이라는 메서드만 있다.
            - duck이라는 객체안에 Duck이라는 interface의 quack이라는 메서드만 있다.
            - 그러면 duck은 Duck타입이다.
        - 컴파일타입에 타입체커가 타입 검사
5. 구조적 타이핑의 결과
    - 구조적 타이핑의 특징 때문에 예기치 못한 결과가 나올 때도 있음
        - 유니온같은 방법이 생겨남
6. 타입스크립트의 점진적 타입 확인
    - 컴파일 타임에 타입을 검사하면서 필요에 따라 타입 선언 생략을 허용하는 방식
    - 타입 지정 → 정적 타입 검사
    - 타입 지정 X → 동적 타입 검사 → 암시적 타입 변환

## 2.3 원시 타입

## 2.4 객체 타입